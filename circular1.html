<!DOCTYPE html>
<html lang="en">
<head>
    <center> 
        <img src="images/logo.jpg" style="width: 250px;"> 
    </center>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wijeya Newspapers - Internal Communications</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- jsPDF Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <style>
        :root {
            --wijeya-primary: #87CEEB; /* Sky Blue */
            --wijeya-dark: #4682B4; /* Steel Blue */
            --wijeya-light: #E6F2F8; /* Light Sky Blue */
        }
        body {
            font-family: 'Georgia', serif;
        }
        .navbar {
            background-color: var(--wijeya-primary) !important;
            border-bottom: 3px solid var(--wijeya-dark);
        }
        .navbar-brand {
            font-weight: 700;
            letter-spacing: 0.5px;
            color: #fff !important;
        }
        .navbar-dark .navbar-nav .nav-link {
            color: rgba(255, 255, 255, 0.9);
        }
        .container {
            padding-top: 4rem;
        }
        .back-btn {
            background-color: #4682B4;
            color: white;
            border: none;
        }
        .back-btn:hover {
            background-color: #315f87;
            color: white;
        }
        .title {
            color: #2c3e50;
        }
        .breadcrumb {
            background-color: #ffffff;
            border-radius: 0.375rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        }
        .breadcrumb-item a {
            color: #4682B4;
            text-decoration: none;
        }
        .breadcrumb-item a:hover {
            color: #315f87;
            text-decoration: underline;
        }
        .breadcrumb-item.active {
            color: #6c757d;
        }
        .circular-image {
            max-width: 100%;
            height: auto;
            border-radius: 0.5rem;
            box-shadow: 0 0.25rem 0.5rem rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem;
        }
        .image-placeholder {
            background: linear-gradient(135deg, var(--wijeya-light) 0%, var(--wijeya-primary) 100%);
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--wijeya-dark);
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            min-height: 250px;
        }
        
        /* PDF Download Button Enhancement */
        .btn-pdf {
            background-color: #dc3545;
            border-color: #dc3545;
            color: white;
        }
        .btn-pdf:hover {
            background-color: #c82333;
            border-color: #bd2130;
            color: white;
        }
        
        /* Loading state for PDF generation */
        .btn-loading {
            position: relative;
            pointer-events: none;
        }
        .btn-loading::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            top: 50%;
            left: 50%;
            margin-left: -8px;
            margin-top: -8px;
            border-radius: 50%;
            border: 2px solid transparent;
            border-top-color: #ffffff;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                WIJEYA NEWSPAPERS
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.php"><i class="fas fa-home me-1"></i> Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#"><i class="fas fa-news me-1"></i> News</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Breadcrumb Navigation -->
        <nav aria-label="breadcrumb" class="mb-3">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="#"><i class="fas fa-home me-1"></i>Home</a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                    Circulars
                </li>
            </ol>
        </nav>
        
        <h1 class="title mb-4">New Editorial Guidelines & Quality Standards</h1>
        
        <div class="card shadow-sm mb-4" id="circular-content">
            <div class="card-body">
                <h5 class="card-title">Company Policy Update - New Editorial Guidelines & Quality Standards</h5>
                <p class="card-text"><strong>Date:</strong> January 15, 2025</p>
                
                <!-- Circular Image -->
                <div class="image-placeholder">
                    <div class="text-center">
                        <i class="fas fa-image fa-3x mb-3"></i>
                        <p class="mb-0">Circular Image Placeholder</p>
                        <small class="text-muted">Replace with actual circular document image</small>
                    </div>
                </div>
                
                <!-- Alternative: Use this instead if you have an actual image -->
                <!-- <img src="circular-1-image.jpg" alt="Circular 1 Document" class="circular-image"> -->
                
                <p class="card-text">
                    This circular provides important internal communication regarding recent updates in the company's remote work policies. The new guidelines will take effect from February 1st, 2025, and include provisions for hybrid work arrangements, equipment allowances, and performance evaluation criteria for remote employees.
                </p>
                
                <h6 class="mt-4 mb-3">Key Points:</h6>
                <ul class="card-text">
                    <li>Flexible work-from-home options available 3 days per week</li>
                    <li>Updated equipment reimbursement policy</li>
                    <li>New performance metrics for remote work evaluation</li>
                    <li>Mandatory monthly in-person team meetings</li>
                </ul>
                
                <p class="card-text mt-3">
                    Please read through the content thoroughly and contact your department head for any clarifications. All employees are required to acknowledge receipt of this circular by January 17th, 2025.
                </p>
                
                <div class="mt-4">
                    <button class="btn back-btn" onclick="goBack()">
                        <i class="fas fa-arrow-left me-1"></i> Back to Circulars
                    </button>
                    <button class="btn btn-pdf ms-2" id="downloadPdfBtn" onclick="downloadPDF()">
                        <i class="fas fa-download me-1"></i> <span id="btn-text">Download PDF</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        function goBack() {
            // You can modify this to redirect to your circulars page
            window.history.back();
        }
        
        function downloadPDF() {
            const btn = document.getElementById('downloadPdfBtn');
            const btnText = document.getElementById('btn-text');
            const originalText = btnText.innerHTML;
            
            // Show loading state
            btn.classList.add('btn-loading');
            btn.disabled = true;
            btnText.innerHTML = 'Generating...';
            
            // Create new jsPDF instance
            const { jsPDF } = window.jspdf;
            const pdf = new jsPDF();
            
            // Set font
            pdf.setFont('helvetica');
            
            // Add company header
            pdf.setFontSize(20);
            pdf.setTextColor(70, 130, 180); // Steel blue color
            pdf.text('WIJEYA NEWSPAPERS', 105, 20, { align: 'center' });
            
            pdf.setFontSize(16);
            pdf.setTextColor(44, 62, 80); // Dark color
            pdf.text('Internal Communication Circular', 105, 30, { align: 'center' });
            
            // Add a line separator
            pdf.setLineWidth(0.5);
            pdf.setDrawColor(70, 130, 180);
            pdf.line(20, 35, 190, 35);
            
            // Add circular title
            pdf.setFontSize(14);
            pdf.setTextColor(0, 0, 0);
            pdf.text('New Editorial Guidelines & Quality Standards', 20, 50);
            
            // Add date
            pdf.setFontSize(12);
            pdf.text('Date: January 10, 2025', 20, 60);
            
            // Add main content
            pdf.setFontSize(11);
            const content = `This circular provides important internal communication regarding recent updates in the company's remote work policies. The new guidelines will take effect from February 1st, 2025, and include provisions for hybrid work arrangements, equipment allowances, and performance evaluation criteria for remote employees.`;
            
            // Split long text into multiple lines
            const splitContent = pdf.splitTextToSize(content, 170);
            pdf.text(splitContent, 20, 75);
            
            // Add Key Points section
            pdf.setFontSize(12);
            pdf.setFont('helvetica', 'bold');
            pdf.text('Key Points:', 20, 110);
            
            pdf.setFont('helvetica', 'normal');
            pdf.setFontSize(11);
            const keyPoints = [
                '• Flexible work-from-home options available 3 days per week',
                '• Updated equipment reimbursement policy',
                '• New performance metrics for remote work evaluation',
                '• Mandatory monthly in-person team meetings'
            ];
            
            let yPosition = 120;
            keyPoints.forEach(point => {
                pdf.text(point, 25, yPosition);
                yPosition += 8;
            });
            
            // Add closing paragraph
            const closingText = `Please read through the content thoroughly and contact your department head for any clarifications. All employees are required to acknowledge receipt of this circular by January 17th, 2025.`;
            const splitClosing = pdf.splitTextToSize(closingText, 170);
            pdf.text(splitClosing, 20, yPosition + 10);
            
            // Add footer
            pdf.setFontSize(10);
            pdf.setTextColor(100, 100, 100);
            pdf.text('Wijeya Newspapers Ltd. - Internal Communications', 105, 280, { align: 'center' });
            pdf.text(`Generated on: ${new Date().toLocaleDateString()}`, 105, 287, { align: 'center' });
            
            // Simulate processing time (remove this in production)
            setTimeout(() => {
                try {
                    // Save the PDF
                    pdf.save('New Editorial Guidelines & Quality Standards.pdf');
                    
                    // Reset button state
                    btn.classList.remove('btn-loading');
                    btn.disabled = false;
                    btnText.innerHTML = originalText;
                    
                    // Show success message (optional)
                    showSuccessMessage();
                } catch (error) {
                    console.error('Error generating PDF:', error);
                    alert('Error generating PDF. Please try again.');
                    
                    // Reset button state
                    btn.classList.remove('btn-loading');
                    btn.disabled = false;
                    btnText.innerHTML = originalText;
                }
            }, 1500); // 1.5 second delay for demonstration
        }
        
        function showSuccessMessage() {
            // Create a temporary success message
            const successMsg = document.createElement('div');
            successMsg.className = 'alert alert-success alert-dismissible fade show position-fixed';
            successMsg.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
            successMsg.innerHTML = `
                <i class="fas fa-check-circle me-2"></i>
                PDF downloaded successfully!
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            document.body.appendChild(successMsg);
            
            // Auto-remove after 3 seconds
            setTimeout(() => {
                if (successMsg.parentNode) {
                    successMsg.remove();
                }
            }, 3000);
        }
    </script>
</body>
</html>